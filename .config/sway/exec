### sway startup applications

# Start mako notification server if not already running
exec_always if ! pgrep mako; then \
	mako || \
	swaynag -m "Mako failed to start $($output)"; \
fi

# Start redshift
# Probably redundant giving the default config location?
exec_always if ! pgrep redshift; then \
	echo "Starting redshift..."; \
	redshift -c ~/.config/redshift/redshift.conf; \
fi

# Start waybar
exec_always ~/.scripts/start-bar

# Start swayidle
# Don't need exec_always with new idle_inhibitor waybar module
exec swayidle -w \
	timeout 300	'swaylock-blur -f -c ~/.config/swaylock/config' \
	timeout 600 'systemctl suspend' \
	#timeout 600	'swaymsg "output * dpms off" && systemctl suspend' \
	resume 		'swaymsg "output * dpms on"' \
	before-sleep	'swaylock-blur -f -c ~/.config/swaylock/config' &

exec thunderbird

exec notify-send "Welcome back, Corbin\!"
