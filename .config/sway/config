### sway config

set $colors	~/.cache/wal
set $config	~/.config/sway

include $config/var

### Appearance
# include wal colors for sway
include $colors/colors-sway
set $good $color4
set $bad $color2

gaps outer 10
gaps inner 20

default_border none
default_floating_border normal

# Floating windows	border		background	text		indicator	child border
client.focused		$good	 	$good		$foreground	$foreground	$good
client.focused_inactive	$good		$good		$foreground	$foreground	$good
client.unfocused	$good		$good		$foreground	$foreground	$good
client.urgent		$bad		$bad		$background	$background	$bad

# Outputs
# $wallpaper defined by wal in $colors/colors-sway
output *	bg	$wallpaper	fill
output HDMI-A-2	pos	0	0	res 1920x1080
output eDP-1	pos	1920	0	res 1920x1080
# Work dock
output DP-3	pos	-1920	0	res 1920x1080
output DP-4	pos	0	0	res 1920x1080

### Behavior
mouse_warping none
focus_follows_mouse no
focus_wrapping no

floating_modifier $mod normal

for_window [title="mpv"] floating enable
for_window [title="imv"] floating enable

### Key bindings
## Inputs
include $config/input
## Workspaces
include $config/workspaces

## Lenovo Fn keys
# Volume
set $audio /usr/bin/pulseaudio-ctl
bindsym XF86AudioMute exec $audio mute
bindsym XF86AudioRaiseVolume exec $audio up
bindsym XF86AudioLowerVolume exec $audio down
bindsym XF86AudioMicMute exec $audio mute-input
# Brightness - switched to redshift for automatically adjustment
#bindsym XF86MonBrightnessDown exec brightnessctl s 5%-
#bindsym XF86MonBrightnessUp exec brightnessctl s +5%
# Lock screen
bindsym XF86Display exec $lock

## Applications
# terminal
bindsym $mod+Return exec $term
# web browser in personal profile
bindsym $mod+i exec $web
# web broswer in work profile
bindsym $mod+o exec $web-work
# file browser
bindsym $mod+n exec $files
# process viewer
bindsym $mod+p exec $processes
# menu
bindsym $mod+d exec $menu

## Media player controls
bindsym $mod+Left exec playerctl previous
bindsym $mod+Right exec playerctl next
bindsym $mod+Down exec playerctl play-pause

## Screenshots
# Capture the focused output
bindsym Control+Print exec NAME=screenshot_$(date "+%Y-%m-%d_%H-%M-%S" | cut -c 1-19).png && \
	grim -o $(swaymsg -t get_outputs | jq -r '.[] | select(.focused) | .name') \
		$(xdg-user-dir PICTURES)/screenshots/$NAME && \
	notify-send -i $(xdg-user-dir PICTURES)/screenshots/$NAME "Screenshot captured" $NAME
# Capture a region
bindsym Print exec NAME=screenshot_$(date "+%Y-%m-%d_%H-%M-%S" | cut -c 1-19).png && \
	grim -g "$(slurp)" $(xdg-user-dir PICTURES)/screenshots/$NAME && \
	notify-send -i $(xdg-user-dir PICTURES)/screenshots/$NAME "Screenshot captured" $NAME

# Kill focused window
bindsym $mod+Shift+q kill

# Reload this config
bindsym $mod+Shift+c reload
# Exit sway logging out of Wayland session
bindsym $mod+Shift+e exit

### Movement
# Move focus
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right
# Move focused window
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

# Split focused container
bindsym $mod+e layout toggle split
bindsym $mod+b splith
bindsym $mod+v splitv

# Make focused window fullscreen
bindsym $mod+f fullscreen

# Toggle focused window between tiling/floating mode
bindsym $mod+Shift+space floating toggle
# Toggle focus between tiling/floating areas
bindsym $mod+space focus mode_toggle
# Focus parent container
bindsym $mod+a focus parent

# Resize mode
mode "resize" {
    bindsym $left resize shrink width 5 px or 5 ppt
    bindsym $down resize grow height 5 px or 5 ppt
    bindsym $up	resize shrink height 5 px or 5 ppt
    bindsym $right resize grow width 5 px or 5 ppt

    # Return to default mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

# Startup applications
include $config/exec

include /etc/sway/config.d/*
